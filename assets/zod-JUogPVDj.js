import{a as R}from"./main-D5Japx6G.js";var he=e=>e.type==="checkbox",se=e=>e instanceof Date,M=e=>e==null;const lr=e=>typeof e=="object";var S=e=>!M(e)&&!Array.isArray(e)&&lr(e)&&!se(e),Cr=e=>S(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Tr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ur=(e,t)=>e.has(Tr(t)),Lr=e=>{const t=e.constructor&&e.constructor.prototype;return S(t)&&t.hasOwnProperty("isPrototypeOf")},pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function C(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(pe&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(S(e)&&Lr(e)))return e;const i=r?[]:Object.create(Object.getPrototypeOf(e));for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=C(e[l]));return i}var Ve=e=>/^\w*$/.test(e),k=e=>e===void 0,Pe=e=>Array.isArray(e)?e.filter(Boolean):[],Ce=e=>Pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,t,r)=>{if(!t||!S(e))return r;const i=(Ve(t)?[t]:Ce(t)).reduce((l,a)=>M(l)?l:l[a],e);return k(i)||i===e?k(e[t])?r:e[t]:i},K=e=>typeof e=="boolean",$=e=>typeof e=="function",x=(e,t,r)=>{let i=-1;const l=Ve(t)?[t]:Ce(t),a=l.length,o=a-1;for(;++i<a;){const c=l[i];let m=r;if(i!==o){const E=e[c];m=S(E)||Array.isArray(E)?E:isNaN(+l[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=m,e=e[c]}};const Ze={BLUR:"blur",FOCUS_OUT:"focusout"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rr=R.createContext(null);Rr.displayName="HookFormControlContext";var Ir=(e,t,r,i=!0)=>{const l={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(l,a,{get:()=>{const o=a;return t._proxyFormState[o]!==H.all&&(t._proxyFormState[o]=!i||H.all),e[o]}});return l};const Mr=typeof window<"u"?R.useLayoutEffect:R.useEffect;var B=e=>typeof e=="string",Nr=(e,t,r,i,l)=>B(e)?(i&&t.watch.add(e),h(r,e,l)):Array.isArray(e)?e.map(a=>(i&&t.watch.add(a),h(r,a))):(i&&(t.watchAll=!0),r),De=e=>M(e)||!lr(e);function ee(e,t,r=new WeakSet){if(De(e)||De(t))return Object.is(e,t);if(se(e)&&se(t))return Object.is(e.getTime(),t.getTime());const i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of i){const o=e[a];if(!l.includes(a))return!1;if(a!=="ref"){const c=t[a];if(se(o)&&se(c)||S(o)&&S(c)||Array.isArray(o)&&Array.isArray(c)?!ee(o,c,r):!Object.is(o,c))return!1}}return!0}const jr=R.createContext(null);jr.displayName="HookFormContext";var Te=(e,t,r,i,l)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:l||!0}}:{},de=e=>Array.isArray(e)?e:[e],Ke=()=>{let e=[];return{get observers(){return e},next:l=>{for(const a of e)a.next&&a.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(a=>a!==l)}}),unsubscribe:()=>{e=[]}}};function cr(e,t){const r={};for(const i in e)if(e.hasOwnProperty(i)){const l=e[i],a=t[i];if(l&&S(l)&&a){const o=cr(l,a);S(o)&&(r[i]=o)}else e[i]&&(r[i]=a)}return r}var I=e=>S(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",_e=e=>{if(!pe)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fr=e=>e.type==="select-multiple",Le=e=>e.type==="radio",Br=e=>Le(e)||he(e),ke=e=>_e(e)&&e.isConnected;function zr(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=k(e)?i++:e[t[i++]];return e}function qr(e){for(const t in e)if(e.hasOwnProperty(t)&&!k(e[t]))return!1;return!0}function D(e,t){const r=Array.isArray(t)?t:Ve(t)?[t]:Ce(t),i=r.length===1?e:zr(e,r),l=r.length-1,a=r[l];return i&&delete i[a],l!==0&&(S(i)&&I(i)||Array.isArray(i)&&qr(i))&&D(e,r.slice(0,-1)),e}var Wr=e=>{for(const t in e)if($(e[t]))return!0;return!1};function dr(e){return Array.isArray(e)||S(e)&&!Wr(e)}function Se(e,t={}){for(const r in e){const i=e[r];dr(i)?(t[r]=Array.isArray(i)?[]:{},Se(i,t[r])):k(i)||(t[r]=!0)}return t}function ae(e,t,r){r||(r=Se(t));for(const i in e){const l=e[i];if(dr(l))k(t)||De(r[i])?r[i]=Se(l,Array.isArray(l)?[]:{}):ae(l,M(t)?{}:t[i],r[i]);else{const a=t[i];r[i]=!ee(l,a)}}return r}const Je={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var yr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Je}return Je},hr=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>k(e)?e:t?e===""?NaN:e&&+e:r&&B(e)?new Date(e):i?i(e):e;const Qe={isValid:!1,value:null};var gr=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Qe):Qe;function Xe(e){const t=e.ref;return Ue(t)?t.files:Le(t)?gr(e.refs).value:fr(t)?[...t.selectedOptions].map(({value:r})=>r):he(t)?yr(e.refs).value:hr(k(t.value)?e.ref.value:t.value,e)}var $r=(e,t,r,i)=>{const l={};for(const a of e){const o=h(t,a);o&&x(l,a,o._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:i}},me=e=>e instanceof RegExp,fe=e=>k(e)?e:me(e)?e.source:S(e)?me(e.value)?e.value.source:e.value:e,Ge=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const er="AsyncFunction";var Hr=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===er||S(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===er)),Zr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rr=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,t,r,i)=>{for(const l of r||Object.keys(e)){const a=h(e,l);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],l)&&!i)return!0;if(o.ref&&t(o.ref,o.name)&&!i)return!0;if(ye(c,t))break}else if(S(c)&&ye(c,t))break}}};function tr(e,t,r){const i=h(e,r);if(i||Ve(r))return{error:i,name:r};const l=r.split(".");for(;l.length;){const a=l.join("."),o=h(t,a),c=h(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};l.pop()}return{name:r}}var Kr=(e,t,r,i)=>{r(e);const{name:l,...a}=e;return I(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!i||H.all))},Jr=(e,t,r)=>!e||!t||e===t||de(e).some(i=>i&&(r?i===t:i.startsWith(t)||t.startsWith(i))),Yr=(e,t,r,i,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(t||e):(r?i.isOnBlur:l.isOnBlur)?!e:(r?i.isOnChange:l.isOnChange)?e:!0,Qr=(e,t)=>!Pe(h(e,t)).length&&D(e,t),Xr=(e,t,r)=>{const i=de(h(e,r));return x(i,"root",t[r]),x(e,r,i),e};function sr(e,t,r="validate"){if(B(e)||Array.isArray(e)&&e.every(B)||K(e)&&!e)return{type:r,message:B(e)?e:"",ref:t}}var ne=e=>S(e)&&!me(e)?e:{value:e,message:""},ir=async(e,t,r,i,l,a)=>{const{ref:o,refs:c,required:m,maxLength:E,minLength:U,min:A,max:O,pattern:b,validate:J,name:N,valueAsNumber:Z,mount:z}=e._f,_=h(r,N);if(!z||t.has(N))return{};const Y=c?c[0]:o,Q=v=>{l&&Y.reportValidity&&(Y.setCustomValidity(K(v)?"":v||""),Y.reportValidity())},p={},oe=Le(o),ge=he(o),re=oe||ge,ie=(Z||Ue(o))&&k(o.value)&&k(_)||_e(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,q=Te.bind(null,N,i,p),ve=(v,V,P,T=X.maxLength,W=X.minLength)=>{const j=v?V:P;p[N]={type:v?T:W,message:j,ref:o,...q(v?T:W,j)}};if(a?!Array.isArray(_)||!_.length:m&&(!re&&(ie||M(_))||K(_)&&!_||ge&&!yr(c).isValid||oe&&!gr(c).isValid)){const{value:v,message:V}=B(m)?{value:!!m,message:m}:ne(m);if(v&&(p[N]={type:X.required,message:V,ref:Y,...q(X.required,V)},!i))return Q(V),p}if(!ie&&(!M(A)||!M(O))){let v,V;const P=ne(O),T=ne(A);if(!M(_)&&!isNaN(_)){const W=o.valueAsNumber||_&&+_;M(P.value)||(v=W>P.value),M(T.value)||(V=W<T.value)}else{const W=o.valueAsDate||new Date(_),j=ce=>new Date(new Date().toDateString()+" "+ce),ue=o.type=="time",le=o.type=="week";B(P.value)&&_&&(v=ue?j(_)>j(P.value):le?_>P.value:W>new Date(P.value)),B(T.value)&&_&&(V=ue?j(_)<j(T.value):le?_<T.value:W<new Date(T.value))}if((v||V)&&(ve(!!v,P.message,T.message,X.max,X.min),!i))return Q(p[N].message),p}if((E||U)&&!ie&&(B(_)||a&&Array.isArray(_))){const v=ne(E),V=ne(U),P=!M(v.value)&&_.length>+v.value,T=!M(V.value)&&_.length<+V.value;if((P||T)&&(ve(P,v.message,V.message),!i))return Q(p[N].message),p}if(b&&!ie&&B(_)){const{value:v,message:V}=ne(b);if(me(v)&&!_.match(v)&&(p[N]={type:X.pattern,message:V,ref:o,...q(X.pattern,V)},!i))return Q(V),p}if(J){if($(J)){const v=await J(_,r),V=sr(v,Y);if(V&&(p[N]={...V,...q(X.validate,V.message)},!i))return Q(V.message),p}else if(S(J)){let v={};for(const V in J){if(!I(v)&&!i)break;const P=sr(await J[V](_,r),Y,V);P&&(v={...P,...q(V,P.message)},Q(P.message),i&&(p[N]=v))}if(!I(v)&&(p[N]={ref:Y,...v},!i))return p}}return Q(!0),p};const Gr={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function et(e={}){let t={...Gr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},l=S(t.defaultValues)||S(t.values)?C(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:C(l),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,E=0;const U={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},A={...U};let O={...A};const b={array:Ke(),state:Ke()},J=t.criteriaMode===H.all,N=s=>n=>{clearTimeout(E),E=setTimeout(s,n)},Z=async s=>{if(!o.keepIsValid&&!t.disabled&&(A.isValid||O.isValid||s)){let n;t.resolver?(n=I((await re()).errors),z()):n=await q(i,!0),n!==r.isValid&&b.state.next({isValid:n})}},z=(s,n)=>{!t.disabled&&(A.isValidating||A.validatingFields||O.isValidating||O.validatingFields)&&((s||Array.from(c.mount)).forEach(u=>{u&&(n?x(r.validatingFields,u,n):D(r.validatingFields,u))}),b.state.next({validatingFields:r.validatingFields,isValidating:!I(r.validatingFields)}))},_=(s,n=[],u,y,d=!0,f=!0)=>{if(y&&u&&!t.disabled){if(o.action=!0,f&&Array.isArray(h(i,s))){const g=u(h(i,s),y.argA,y.argB);d&&x(i,s,g)}if(f&&Array.isArray(h(r.errors,s))){const g=u(h(r.errors,s),y.argA,y.argB);d&&x(r.errors,s,g),Qr(r.errors,s)}if((A.touchedFields||O.touchedFields)&&f&&Array.isArray(h(r.touchedFields,s))){const g=u(h(r.touchedFields,s),y.argA,y.argB);d&&x(r.touchedFields,s,g)}(A.dirtyFields||O.dirtyFields)&&(r.dirtyFields=ae(l,a)),b.state.next({name:s,isDirty:v(s,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else x(a,s,n)},Y=(s,n)=>{x(r.errors,s,n),b.state.next({errors:r.errors})},Q=s=>{r.errors=s,b.state.next({errors:r.errors,isValid:!1})},p=(s,n,u,y)=>{const d=h(i,s);if(d){const f=h(a,s,k(u)?h(l,s):u);k(f)||y&&y.defaultChecked||n?x(a,s,n?f:Xe(d._f)):T(s,f),o.mount&&!o.action&&Z()}},oe=(s,n,u,y,d)=>{let f=!1,g=!1;const F={name:s};if(!t.disabled){if(!u||y){(A.isDirty||O.isDirty)&&(g=r.isDirty,r.isDirty=F.isDirty=v(),f=g!==F.isDirty);const w=ee(h(l,s),n);g=!!h(r.dirtyFields,s),w?D(r.dirtyFields,s):x(r.dirtyFields,s,!0),F.dirtyFields=r.dirtyFields,f=f||(A.dirtyFields||O.dirtyFields)&&g!==!w}if(u){const w=h(r.touchedFields,s);w||(x(r.touchedFields,s,u),F.touchedFields=r.touchedFields,f=f||(A.touchedFields||O.touchedFields)&&w!==u)}f&&d&&b.state.next(F)}return f?F:{}},ge=(s,n,u,y)=>{const d=h(r.errors,s),f=(A.isValid||O.isValid)&&K(n)&&r.isValid!==n;if(t.delayError&&u?(m=N(()=>Y(s,u)),m(t.delayError)):(clearTimeout(E),m=null,u?x(r.errors,s,u):D(r.errors,s)),(u?!ee(d,u):d)||!I(y)||f){const g={...y,...f&&K(n)?{isValid:n}:{},errors:r.errors,name:s};r={...r,...g},b.state.next(g)}},re=async s=>(z(s,!0),await t.resolver(a,t.context,$r(s||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation))),ie=async s=>{const{errors:n}=await re(s);if(z(s),s)for(const u of s){const y=h(n,u);y?x(r.errors,u,y):D(r.errors,u)}else r.errors=n;return n},q=async(s,n,u={valid:!0})=>{for(const y in s){const d=s[y];if(d){const{_f:f,...g}=d;if(f){const F=c.array.has(f.name),w=d._f&&Hr(d._f);w&&A.validatingFields&&z([f.name],!0);const L=await ir(d,c.disabled,a,J,t.shouldUseNativeValidation&&!n,F);if(w&&A.validatingFields&&z([f.name]),L[f.name]&&(u.valid=!1,n||e.shouldUseNativeValidation))break;!n&&(h(L,f.name)?F?Xr(r.errors,L,f.name):x(r.errors,f.name,L[f.name]):D(r.errors,f.name))}!I(g)&&await q(g,n,u)}}return u.valid},ve=()=>{for(const s of c.unMount){const n=h(i,s);n&&(n._f.refs?n._f.refs.every(u=>!ke(u)):!ke(n._f.ref))&&Fe(s)}c.unMount=new Set},v=(s,n)=>!t.disabled&&(s&&n&&x(a,s,n),!ee(Re(),l)),V=(s,n,u)=>Nr(s,c,{...o.mount?a:k(n)?l:B(s)?{[s]:n}:n},u,n),P=s=>Pe(h(o.mount?a:l,s,t.shouldUnregister?h(l,s,[]):[])),T=(s,n,u={})=>{const y=h(i,s);let d=n;if(y){const f=y._f;f&&(!f.disabled&&x(a,s,hr(n,f)),d=_e(f.ref)&&M(n)?"":n,fr(f.ref)?[...f.ref.options].forEach(g=>g.selected=d.includes(g.value)):f.refs?he(f.ref)?f.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(F=>F===g.value):g.checked=d===g.value||!!d)}):f.refs.forEach(g=>g.checked=g.value===d):Ue(f.ref)?f.ref.value="":(f.ref.value=d,f.ref.type||b.state.next({name:s,values:C(a)})))}(u.shouldDirty||u.shouldTouch)&&oe(s,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ce(s)},W=(s,n,u)=>{for(const y in n){if(!n.hasOwnProperty(y))return;const d=n[y],f=s+"."+y,g=h(i,f);(c.array.has(s)||S(d)||g&&!g._f)&&!se(d)?W(f,d,u):T(f,d,u)}},j=(s,n,u={})=>{const y=h(i,s),d=c.array.has(s),f=C(n);x(a,s,f),d?(b.array.next({name:s,values:C(a)}),(A.isDirty||A.dirtyFields||O.isDirty||O.dirtyFields)&&u.shouldDirty&&b.state.next({name:s,dirtyFields:ae(l,a),isDirty:v(s,f)})):y&&!y._f&&!M(f)?W(s,f,u):T(s,f,u),rr(s,c)?b.state.next({...r,name:s,values:C(a)}):b.state.next({name:o.mount?s:void 0,values:C(a)})},ue=async s=>{o.mount=!0;const n=s.target;let u=n.name,y=!0;const d=h(i,u),f=w=>{y=Number.isNaN(w)||se(w)&&isNaN(w.getTime())||ee(w,h(a,u,w))},g=Ge(t.mode),F=Ge(t.reValidateMode);if(d){let w,L;const te=n.type?Xe(d._f):Cr(s),G=s.type===Ze.BLUR||s.type===Ze.FOCUS_OUT,Or=!Zr(d._f)&&!t.resolver&&!h(r.errors,u)&&!d._f.deps||Yr(G,h(r.touchedFields,u),r.isSubmitted,F,g),xe=rr(u,c,G);x(a,u,te),G?(!n||!n.readOnly)&&(d._f.onBlur&&d._f.onBlur(s),m&&m(0)):d._f.onChange&&d._f.onChange(s);const Ee=oe(u,te,G),pr=!I(Ee)||xe;if(!G&&b.state.next({name:u,type:s.type,values:C(a)}),Or)return(A.isValid||O.isValid)&&(t.mode==="onBlur"?G&&Z():G||Z()),pr&&b.state.next({name:u,...xe?{}:Ee});if(!G&&xe&&b.state.next({...r}),t.resolver){const{errors:$e}=await re([u]);if(z([u]),f(te),y){const Pr=tr(r.errors,i,u),He=tr($e,i,Pr.name||u);w=He.error,u=He.name,L=I($e)}}else z([u],!0),w=(await ir(d,c.disabled,a,J,t.shouldUseNativeValidation))[u],z([u]),f(te),y&&(w?L=!1:(A.isValid||O.isValid)&&(L=await q(i,!0)));y&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&ce(d._f.deps),ge(u,L,w,Ee))}},le=(s,n)=>{if(h(r.errors,n)&&s.focus)return s.focus(),1},ce=async(s,n={})=>{let u,y;const d=de(s);if(t.resolver){const f=await ie(k(s)?s:d);u=I(f),y=s?!d.some(g=>h(f,g)):u}else s?(y=(await Promise.all(d.map(async f=>{const g=h(i,f);return await q(g&&g._f?{[f]:g}:g)}))).every(Boolean),!(!y&&!r.isValid)&&Z()):y=u=await q(i);return b.state.next({...!B(s)||(A.isValid||O.isValid)&&u!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:u}:{},errors:r.errors}),n.shouldFocus&&!y&&ye(i,le,s?d:c.mount),y},Re=(s,n)=>{let u={...o.mount?a:l};return n&&(u=cr(n.dirtyFields?r.dirtyFields:r.touchedFields,u)),k(s)?u:B(s)?h(u,s):s.map(y=>h(u,y))},Ie=(s,n)=>({invalid:!!h((n||r).errors,s),isDirty:!!h((n||r).dirtyFields,s),error:h((n||r).errors,s),isValidating:!!h(r.validatingFields,s),isTouched:!!h((n||r).touchedFields,s)}),wr=s=>{s&&de(s).forEach(n=>D(r.errors,n)),b.state.next({errors:s?r.errors:{}})},Me=(s,n,u)=>{const y=(h(i,s,{_f:{}})._f||{}).ref,d=h(r.errors,s)||{},{ref:f,message:g,type:F,...w}=d;x(r.errors,s,{...w,...n,ref:y}),b.state.next({name:s,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},Ar=(s,n)=>$(s)?b.state.subscribe({next:u=>"values"in u&&s(V(void 0,n),u)}):V(s,n,!0),Ne=s=>b.state.subscribe({next:n=>{Jr(s.name,n.name,s.exact)&&Kr(n,s.formState||A,Sr,s.reRenderRoot)&&s.callback({values:{...a},...r,...n,defaultValues:l})}}).unsubscribe,xr=s=>(o.mount=!0,O={...O,...s.formState},Ne({...s,formState:{...U,...s.formState}})),Fe=(s,n={})=>{for(const u of s?de(s):c.mount)c.mount.delete(u),c.array.delete(u),n.keepValue||(D(i,u),D(a,u)),!n.keepError&&D(r.errors,u),!n.keepDirty&&D(r.dirtyFields,u),!n.keepTouched&&D(r.touchedFields,u),!n.keepIsValidating&&D(r.validatingFields,u),!t.shouldUnregister&&!n.keepDefaultValue&&D(l,u);b.state.next({values:C(a)}),b.state.next({...r,...n.keepDirty?{isDirty:v()}:{}}),!n.keepIsValid&&Z()},je=({disabled:s,name:n})=>{if(K(s)&&o.mount||s||c.disabled.has(n)){const d=c.disabled.has(n)!==!!s;s?c.disabled.add(n):c.disabled.delete(n),d&&o.mount&&!o.action&&Z()}},we=(s,n={})=>{let u=h(i,s);const y=K(n.disabled)||K(t.disabled);return x(i,s,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:s}},name:s,mount:!0,...n}}),c.mount.add(s),u?je({disabled:K(n.disabled)?n.disabled:t.disabled,name:s}):p(s,!0,n.value),{...y?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:fe(n.min),max:fe(n.max),minLength:fe(n.minLength),maxLength:fe(n.maxLength),pattern:fe(n.pattern)}:{},name:s,onChange:ue,onBlur:ue,ref:d=>{if(d){we(s,n),u=h(i,s);const f=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Br(f),F=u._f.refs||[];if(g?F.find(w=>w===f):f===u._f.ref)return;x(i,s,{_f:{...u._f,...g?{refs:[...F.filter(ke),f,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),p(s,!1,void 0,f)}else u=h(i,s,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(Ur(c.array,s)&&o.action)&&c.unMount.add(s)}}},Ae=()=>t.shouldFocusError&&ye(i,le,c.mount),Er=s=>{K(s)&&(b.state.next({disabled:s}),ye(i,(n,u)=>{const y=h(i,u);y&&(n.disabled=y._f.disabled||s,Array.isArray(y._f.refs)&&y._f.refs.forEach(d=>{d.disabled=y._f.disabled||s}))},0,!1))},Be=(s,n)=>async u=>{let y;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let d=C(a);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:f,values:g}=await re();z(),r.errors=f,d=C(g)}else await q(i);if(c.disabled.size)for(const f of c.disabled)D(d,f);if(D(r.errors,"root"),I(r.errors)){b.state.next({errors:{}});try{await s(d,u)}catch(f){y=f}}else n&&await n({...r.errors},u),Ae(),setTimeout(Ae);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(r.errors)&&!y,submitCount:r.submitCount+1,errors:r.errors}),y)throw y},kr=(s,n={})=>{h(i,s)&&(k(n.defaultValue)?j(s,C(h(l,s))):(j(s,n.defaultValue),x(l,s,C(n.defaultValue))),n.keepTouched||D(r.touchedFields,s),n.keepDirty||(D(r.dirtyFields,s),r.isDirty=n.defaultValue?v(s,C(h(l,s))):v()),n.keepError||(D(r.errors,s),A.isValid&&Z()),b.state.next({...r}))},ze=(s,n={})=>{const u=s?C(s):l,y=C(u),d=I(s),f=d?l:y;if(n.keepDefaultValues||(l=u),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(ae(l,a))]);for(const F of Array.from(g)){const w=h(r.dirtyFields,F),L=h(a,F),te=h(f,F);w&&!k(L)?x(f,F,L):!w&&!k(te)&&j(F,te)}}else{if(pe&&k(s))for(const g of c.mount){const F=h(i,g);if(F&&F._f){const w=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(_e(w)){const L=w.closest("form");if(L){L.reset();break}}}}if(n.keepFieldsRef)for(const g of c.mount)j(g,h(f,g));else i={}}a=t.shouldUnregister?n.keepDefaultValues?C(l):{}:C(f),b.array.next({values:{...f}}),b.state.next({values:{...f}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!n.keepIsValid||!!n.keepDirtyValues||!t.shouldUnregister&&!I(f),o.watch=!!t.shouldUnregister,o.keepIsValid=!!n.keepIsValid,o.action=!1,n.keepErrors||(r.errors={}),b.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:d?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!ee(s,l)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&a?ae(l,a):r.dirtyFields:n.keepDefaultValues&&s?ae(l,s):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:l})},qe=(s,n)=>ze($(s)?s(a):s,{...t.resetOptions,...n}),Dr=(s,n={})=>{const u=h(i,s),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&setTimeout(()=>{d.focus(),n.shouldSelect&&$(d.select)&&d.select()})}},Sr=s=>{r={...r,...s}},We={control:{register:we,unregister:Fe,getFieldState:Ie,handleSubmit:Be,setError:Me,_subscribe:Ne,_runSchema:re,_updateIsValidating:z,_focusError:Ae,_getWatch:V,_getDirty:v,_setValid:Z,_setFieldArray:_,_setDisabledField:je,_setErrors:Q,_getFieldArray:P,_reset:ze,_resetDefaultValues:()=>$(t.defaultValues)&&t.defaultValues().then(s=>{qe(s,t.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:Er,_subjects:b,_proxyFormState:A,get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(s){o=s},get _defaultValues(){return l},get _names(){return c},set _names(s){c=s},get _formState(){return r},get _options(){return t},set _options(s){t={...t,...s}}},subscribe:xr,trigger:ce,register:we,handleSubmit:Be,watch:Ar,setValue:j,getValues:Re,reset:qe,resetField:kr,clearErrors:wr,unregister:Fe,setError:Me,setFocus:Dr,getFieldState:Ie};return{...We,formControl:We}}function ht(e={}){const t=R.useRef(void 0),r=R.useRef(void 0),[i,l]=R.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=et(e);t.current={...c,formState:i}}const a=t.current.control;return a._options=e,Mr(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>l({...a._formState}),reRenderRoot:!0});return l(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),R.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),R.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),R.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),R.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==i.isDirty&&a._subjects.state.next({isDirty:o})}},[a,i.isDirty]),R.useEffect(()=>{var o;e.values&&!ee(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=e.values,l(c=>({...c}))):a._resetDefaultValues()},[a,e.values]),R.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=R.useMemo(()=>Ir(i,a),[a,i]),t.current}const nr=(e,t,r)=>{if(e&&"reportValidity"in e){const i=h(r,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Oe=(e,t)=>{for(const r in t.fields){const i=t.fields[r];i&&i.ref&&"reportValidity"in i.ref?nr(i.ref,r,e):i&&i.refs&&i.refs.forEach(l=>nr(l,r,e))}},ar=(e,t)=>{t.shouldUseNativeValidation&&Oe(e,t);const r={};for(const i in e){const l=h(t.fields,i),a=Object.assign(e[i]||{},{ref:l&&l.ref});if(rt(t.names||Object.keys(e),i)){const o=Object.assign({},h(r,i));x(o,"root",a),x(r,i,o)}else x(r,i,a)}return r},rt=(e,t)=>{const r=or(t);return e.some(i=>or(i).match(`^${r}\\.\\d+`))};function or(e){return e.replace(/\]|\[/g,"")}function vr(e,t,r){function i(c,m){var E;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(E=c._zod).traits??(E.traits=new Set),c._zod.traits.add(e),t(c,m);for(const U in o.prototype)U in c||Object.defineProperty(c,U,{value:o.prototype[U].bind(c)});c._zod.constr=o,c._zod.def=m}const l=r?.Parent??Object;class a extends l{}Object.defineProperty(a,"name",{value:e});function o(c){var m;const E=r?.Parent?new a:this;i(E,c),(m=E._zod).deferred??(m.deferred=[]);for(const U of E._zod.deferred)U();return E}return Object.defineProperty(o,"init",{value:i}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class tt extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const st={};function br(e){return st}function it(e,t){return typeof t=="bigint"?t.toString():t}const _r=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function be(e){return typeof e=="string"?e:e?.message}function mr(e,t,r){const i={...e,path:e.path??[]};if(!e.message){const l=be(e.inst?._zod.def?.error?.(e))??be(t?.error?.(e))??be(r.customError?.(e))??be(r.localeError?.(e))??"Invalid input";i.message=l}return delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}const Vr=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,it,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nt=vr("$ZodError",Vr),Fr=vr("$ZodError",Vr,{Parent:Error}),at=e=>(t,r,i,l)=>{const a=i?Object.assign(i,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise)throw new tt;if(o.issues.length){const c=new(l?.Err??e)(o.issues.map(m=>mr(m,a,br())));throw _r(c,l?.callee),c}return o.value},ot=at(Fr),ut=e=>async(t,r,i,l)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(l?.Err??e)(o.issues.map(m=>mr(m,a,br())));throw _r(c,l?.callee),c}return o.value},lt=ut(Fr);function ur(e,t){try{var r=e()}catch(i){return t(i)}return r&&r.then?r.then(void 0,t):r}function ct(e,t){for(var r={};e.length;){var i=e[0],l=i.code,a=i.message,o=i.path.join(".");if(!r[o])if("unionErrors"in i){var c=i.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:a,type:l};if("unionErrors"in i&&i.unionErrors.forEach(function(U){return U.errors.forEach(function(A){return e.push(A)})}),t){var m=r[o].types,E=m&&m[i.code];r[o]=Te(o,t,r,l,E?[].concat(E,i.message):i.message)}e.shift()}return r}function ft(e,t){for(var r={};e.length;){var i=e[0],l=i.code,a=i.message,o=i.path.join(".");if(!r[o])if(i.code==="invalid_union"&&i.errors.length>0){var c=i.errors[0][0];r[o]={message:c.message,type:c.code}}else r[o]={message:a,type:l};if(i.code==="invalid_union"&&i.errors.forEach(function(U){return U.forEach(function(A){return e.push(A)})}),t){var m=r[o].types,E=m&&m[i.code];r[o]=Te(o,t,r,l,E?[].concat(E,i.message):i.message)}e.shift()}return r}function gt(e,t,r){if(r===void 0&&(r={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,l,a){try{return Promise.resolve(ur(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](i,t)).then(function(o){return a.shouldUseNativeValidation&&Oe({},a),{errors:{},values:r.raw?Object.assign({},i):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:ar(ct(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,l,a){try{return Promise.resolve(ur(function(){return Promise.resolve((r.mode==="sync"?ot:lt)(e,i,t)).then(function(o){return a.shouldUseNativeValidation&&Oe({},a),{errors:{},values:r.raw?Object.assign({},i):o}})},function(o){if((function(c){return c instanceof nt})(o))return{values:{},errors:ar(ft(o.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}export{gt as a,ht as u};
